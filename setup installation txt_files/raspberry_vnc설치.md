# headless vnc 접속하기
먼저 ssh로 접속을 하면 된다.
물론 쉽게 그냥 모니터 연결하고 하는게 제일 좋다..
왜 사서 고생을 ㅡㅡ;;

어쨋든 ssh로 접속을 해야한다. 여기에서도 내부망으로 같은 네트워크에 있는게 
가장 편하다.. 
그게 아니라면 포트포워딩을 해줘야하고 공유기가 있어야 한다.

그럼.. ssh가 된다는 생각하고 접속을 한 후에 ...
```
sudo raspi-config
```
vnc 기능을 enable 해준다.

<br> 

나는 사서 고생으로;; 이유가 다 있다 ㅎㅎ
사설 ip 내부망으로 접속을 할 수가 없으므로 공유기의 포트포워딩 기능을 사용해준다
ssh에서 설정했던것과 동일하다..

먼저 외부에서 접속할 서비스 포트번호..
이거는 임의의 포트번호가 된다. 겹치지만 않으면되고 원래 기존의 포트번호도 된다.
vnc는 5900포트를 사용한다.

그래서 외부 서비스포트는 내맘대로 나는 9900 주고 
여기는 중요
내부아이피는 192.168.ㅌㅌㅌ로 포트번호는 5900
으로 해주고 추가/저장을 한다.

이제 포트포워딩 관련해서 추가가 되었을 것이고..
공유기마다 다르겠지만.. 재부팅을 해주는 것이 좋다.
처음에 재부팅을 안해서 되는 건가? 안되는 건가? 했지만..
결론 재부팅을 안하면 적용이 안된다.. 물론 공유기에 따라 다르겠지만...
SK broadband 기준으로 (이것도 케바케일지도 모르지만..)
재부팅을 해야지 포트포워딩이 최종 적용이 된다.

이제 메인 데스크탑으로 와서 
vnc 클라이언트를 설치해야한다.
https://www.realvnc.com/en/connect/download/vnc/
vnc도 어플리케이션이 꽤 된다.
그중에서 기장 기본이라고 해야하나? 대표라고 해야하나
암튼 본인의 데스트탑에 맞는 것을 설치해준다.

나는 CentOS를 사용하고 있으므로 rpm버전 x64로 받은다음에 설치
```
rpm -ivh VNC-Viewer-6.20.529-Linux-x64.rpm
```

데비안 계열은 deb 파일도 제공... mac도 windows도 제공 

이제 vnc를 실행하자!
vnc view를 실행하면 

new connection 으로 한개 접속 할 수 있게 만들어 주는데
여기에 
VNC Server 에 ip주소를 적어주면 된다.
포트포워딩을 했으므로..
WAN ip를 적는다.
222.xxx.xxx.xxx:9900
다른것은 별로 건들게 없고
OK를 누르고 저장이 되면 
마우스 오른쪽 버튼을 누르고 connect를 한다

그러면 바로 아이디와 비번을 물어보게 되는데 
유저는 pi
비번은 raspberry
로 접속을 하면 화면이 잘 나오게 된다.

신기하구먼.. 
처음에는 포트포워딩을 하고 재부팅을 안해서.;;
되는지 안되는지도 모르고 시간허비하다가..
몇번 테스트를 했더니 재부팅을 해야한다는 결론이 나왔고..
그 다음에는 아이피를 잘못적는 삽질을 한 끝에...
아 vnc는 포트포워딩 방식은 안되는 구나 하다가..
ip주소를 올바르게 넣은다음에 잘 되는 것에...정말 기쁘긴 했지만..
오늘도 삽질 내일도 삽질..

그래도 우물이 깊어지고 이동네 저동네 우물을 다 파고 있는거 같아서~
뿌듯하다 ㅋㅋㅋ

끝
