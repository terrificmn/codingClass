_____________________________________________________________________________________________________
_____________________________________________________________________________________________________

sql 특정 컬럼 숫자 +1 시켜주기 (UPDATE 쿼리)

* likehits는 컬럼
likehits = '+1' will not actually add one to a field
instead it will just assign literal +1 to likehits column value.
'문자열' 넣어지게 되는 듯
In order to add 1 try this

UPDATE article 
SET likehits = likehits + 1
WHERE id ='129'

However, it looks like likehits column is of type nvarchar, 
if so then try this (assuming likehits column stores only numbers)

UPDATE article 
SET likehits = CAST((CAST(likehits AS INT) + 1) AS nvarchar(64)) 
WHERE id ='129'

컬럼 type이 int형 이어서 그냥 +1 해줬더니 무리없이 +1 더해서 수정됨

_____________________________________________________________________________________________________
_____________________________________________________________________________________________________

mysqldump 이용 백업하기
root권한이 있어야지 실행이됨, sudo로는 permission denied 됨
  $su -  
mysqldump 명령어로 해당db을 파일로 백업
  #mysqldump -u root -p 디비이름 > 파일명.sql
위 커맨드를 실행하면 mariadb 암호를 물어본다. 암호입력 후 현재 디렉토리에 생성이 된다 
pwd 명령어를 실행한 후 현재 디렉토리를 확인한 후 하는 것이 좋다
실행 예:
  #mysqldump -u root -p phplesson > backup_php2020-12-30.sql  

_____________________________________________________________________________________________________
_____________________________________________________________________________________________________

sql dump파일 복원시키기
그전에 database를 하나 먼저 만든다음에.. pf2010이라고 만듬 (pf2010은 dbname)
mysql -u root -p pf2010 < /저장된장소/DB_backup_Feb_10_2010.dump

_____________________________________________________________________________________________________
_____________________________________________________________________________________________________