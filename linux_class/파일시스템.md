# 파일시스템

리눅스에서 가장 많이 사용되는 파일시스템은 ext4 
ext3는 usb등이나 설치할 때 사용되는 파일시스템


마운트 된 공간 정보 보기 df (마운트가 된 것만 보임)
```
$df
$df /dev/sda1
```

사람이 읽기 편한 방식으로 보기
```
df -h
```


파일시스템정보 보기
```
$ vim /etc/fstab
```
:q
mount 명령어와 / unmount

예: 하드디스크라면.. media에는 hdd1은 mkdir로 만들어줘야한다
```
$mount /dev/sda1 /media/hdd1
```


오라클virtualBox도 가상으로 하드디스크를 추가할 수 있음
셋팅 storage 에서 하드디스크를 추가
원래는 Controller: IDE부분에서 
추가 아이콘을 누르고 (하단)

추가할 때 vdi vhd도 상관없는듯하나 (virtual image / hard disk)
하드디스크 추가했을때는 디스크 부팅 순서에 주의해야 부팅이 잘 된다


하드디스크 보기 
```
$sudo fdisk -l
```

/dev/sda  로 시작하는 곳에 디스크가 나오게 된다
결과 
Disk /dev/sda: 35 GiB, 37580963840 bytes, 73400320 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x78fdfe7e

Device     Boot Start      End  Sectors Size Id Type
/dev/sda1  *     2048 73398271 73396224  35G 83 Linux

Disk /dev/sdb: 301.2 MiB, 315806208 bytes, 616809 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/sdc: 512 MiB, 536870912 bytes, 1048576 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


따로 지정을 안하면 /dev/sda sdb sdc 이런순서로 생성이 됨


파티션 만들기

처음에 가상 하드 디스크를 만든 후 또는 진짜 물리 디스크를 했을 때는 포맷을 해줘야하는데
안그러면 에러가 발생

먼저 파티션을 만들기  파티션을 만들 장치를 선택해준다
$fdisk /dev/sdb

그 다음에 m 을 눌러서 헬프기능을 보면서 진행하면 된다
n을 눌러서 파티션 추가, 그 다음 안내를 따름
완성이 되면 w를 눌러서 나온다. 저장을 안하려면 q
이렇게 파티션이 되면 
/dev/sdb1 이 된다

이제 포맷과 같은 역활을 한다
중요한 mkfs로 파티션이 만들어진 것을 ext4형식으로 만들어주기
creating filesystem 하는 것 Superblock을 만들어준다
```
$sudo mkfs -t ext4 /dev/sdb1
```

작업이 완료되면
이제 마운트를 시킬 수 있음

```
$mount /dev/sdb1 /mnt/hdd1
```

이제 마운트 된 것을 확인하면 df -h 를 해보면 마운트 된것이 보이는 것이 보이면 완료
```
df -h
df /dev/sdb1
```












