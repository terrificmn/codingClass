# 협업 필터링 Collaborative Filtering영화 추천
tsv (tab으로 되어 있는 형식) 일때는 

`pd.read_csv('u.data', sep='\t', names=[  'user_id', 'item_id', 'rating', 'timestamp' ])` 
- set='\t'파라미터를 이용한다
- names='[ ]'파라미터는 컬럼명을 정해줌


## 데이터 프레임 합치기
- merge 두 개의 데이터프레임 합치기
```py
pd.merge(movies_rating_df, movie_titles_df, on='item_id')
```
on='컬럼명' --> 공통되는 컬럼이 있을 때 merge() 메서드 사용가능

- concat 두 개의 데이터프레임 합치기
```py
#axis=1 파라미터로 컬럼으로 합치기
# 리스트로 묶어 준다
pd.concat( [ratings_df_count, ratings_df_mean], axis=1) 
```
원래는 위 아래 row로 데이터를 합쳐준다
그래서 row로 데이터를 붙일 때는 axis=파라미터를 생략하거나 axis=0 한다

- join 두 개의 데이터프레임 합치기
```py
# 기존의 DataFrame에다가 합침?
retings_df_count.join( ratings_df_mean)
```
join은 시리즈 일 때는 사용이 안된다


## 데이터프레임 컬럼명 바꾸기
- 데이터프레임 컬럼명 바꾸기 
기존 컬럼이 각각 rating, rating 일 때
```py
ratings_mean_count.rename(columns={'rating': 'count', 'rating': 'mean'})
```
 이런 경우는 딕셔너리에서 키 값이 중복이면 마지막 키만 처리하기 때문에 마지막컬럼 2번째 컬럼만 바뀜
(참고: cpu는 왼쪽->오른쪽, 위->아래 연산함)

다른방법은 columns 속성을 이용해서 바꿀 수 있다. 리스트로 저장시키면 끝
```py
ratings_mean_count.columns #columns 속성으로 데이터 접근 
ratings_mean_count.columns = ['count', 'mean']
```

## 피봇 테이블 하기
피봇팅 한다. 즉 컬럼의 값을 행으로 만드는것. (unique하게 만들어 준다)
그래서 여러개의 숫자 데이터를 합치거나 평균을 내거나, 표준편차를 연산할 수 있음
한 컬럼의 값이 겹칠 때 그 컬럼을 합치면서 이와 관련된 다른 컬럼의 값을 더하거나 해줌

- 피붓 테이블 pivot_table()
```py
# 아래 설명 참고
movies_rating_df.pivot_table(index='user_id', columns='title', values='rating')
```
피봇테이블 pivot_table( index=, columns=, values= ) index= 파라미터: 특정컬럼을 index (row)(왼쪽)를 만들어준다
columns=파라미터: 특정컬럼을 말그대로 컬럼으로 만들어 준다. 컬럼에서 여기서는 title컬럼에서 중복되는 문자열들이 컬럼이 된다. 즉 unique()같은 효과이다
values=파라미터: 이제 인덱스와, 컬럼이 셋팅이 되었고 그 안에 어떤내용으로 넣을 지 결정, 여기에서는 'rating' 타이틀을 이용했고, rating값들이 들어가진다

## 특정 컬럼과 다른 컬럼들과의 상관관계 분석 할 때 
여기서부터 정리하기!!














